---
title: Using css counters
date: 2017-09-11 15:41:20
description: ğŸ’¬èŠä¸€èŠ css ä¸­çš„<code>counters</code> ...ğŸ’¬
tags: [css]
---

> ä»Šå¤©åœ¨ W3C æŸ¥é˜… [background æ ‡å‡†](https://www.w3.org/TR/css3-background/#the-background)æ—¶å¶ç„¶å‘ç°è¿™ä¸ªå±æ€§ã€‚

## counters å…¼å®¹æ€§

ä¸ºä»€ä¹ˆè¦é¦–å…ˆè°ˆå®ƒçš„å…¼å®¹æ€§ï¼Ÿå› ä¸ºè¿™ä¸ªå±æ€§**å¯ä»¥è¢«æ‰€æœ‰æµè§ˆå™¨æ”¯æŒ**ï¼ˆ~~IE6/7~~ é™¤å¤–ï¼‰ï¼Œæ˜¯ä¸æ˜¯æœ‰äº†çœ‹ä¸‹å»çš„æ¬²æœ›^o^

## å®šä¹‰

**CSS counters** åŸºäºåœ¨æ–‡æ¡£ä¸­çš„ä½ç½®æ¥æ”¹å˜å…¶æ˜¾ç¤ºçš„å†…å®¹ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ç”¨å®ƒå¯¹ç½‘é¡µä¸­çš„æ ‡é¢˜è‡ªåŠ¨è®¡æ•°ã€‚

**CSSè®¡æ•°å™¨**æœ¬è´¨ä¸Šæ˜¯ç”± CSS åœ¨ç»´æŠ¤çš„å˜é‡ï¼Œè¿™äº›å˜é‡å¯èƒ½æ ¹æ®CSSè§„åˆ™å¢åŠ ä»¥è·Ÿè¸ªä½¿ç”¨æ¬¡æ•°ã€‚

## ä½¿ç”¨

é¦–å…ˆï¼Œå¿…é¡»ç”¨ `counter-reset`ä¸ºè®¡æ•°å™¨è®¾ç½®ä¸€ä¸ªåˆå§‹å€¼(é»˜è®¤ä¸º 0)ï¼›
å¯ä»¥åœ¨ä¹‹åèµ‹äºˆ `counter-reset` ä¸€ä¸ªç‰¹å®šçš„æ•°å€¼æ¥æ”¹å˜è®¡æ•°å™¨çš„å€¼ã€‚
ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡ `counter-increment` å¯¹è®¡æ•°å™¨çš„å€¼è¿›è¡Œé€’å¢æˆ–é€’å‡ã€‚
`counter` çš„ *name* å±æ€§ä¸èƒ½æ˜¯ noneã€inheritã€initialï¼Œå¦åˆ™ï¼Œè¿™æ¡ç”³æ˜å°†è¢«å¿½ç•¥ã€‚

## æ˜¾ç¤º counter

`counter` çš„å€¼å¯ä»¥é€šè¿‡èµ‹ç»™ `content` å±æ€§ `counter()` æˆ– `counters()` å‡½æ•°æ¥æ˜¾ç¤ºã€‚

- `counter()` å‡½æ•°æœ‰ä¸¤ç§å½¢å¼ï¼š

``` css
counter(name)
counter(name, style)
```

ç”Ÿæˆçš„æ–‡æœ¬æ˜¯å¯¹ç»™å®šçš„ä¼ªå…ƒç´ åœ¨ç»™å®šçš„ *name* èŒƒå›´å†…æœ€é‡Œå±‚çº§çš„è®¡æ•°çš„å€¼ï¼Œé€šè¿‡è®¾å®šçš„ *style* å€¼å¯¹å…¶æ ¼å¼åŒ– ï¼ˆé»˜è®¤ä¸º`decimal` - 10è¿›åˆ¶ï¼‰ã€‚

- `counters()` å‡½æ•°åŒæ ·æœ‰ä¸¤ç§å½¢å¼

``` css
counters(name, string)
counters(name, string, style)
```

ç”Ÿæˆçš„æ–‡æœ¬æ˜¯å¯¹ç»™å®šçš„ä¼ªå…ƒç´ åœ¨ç»™å®šçš„ *name* èŒƒå›´å†…æ‰€æœ‰è®¡æ•°å™¨çš„å€¼ï¼Œä»æœ€å¤–å±‚çº§åˆ°æœ€é‡Œå±‚çº§é€šè¿‡è®¾å®šçš„ *string* å­—ç¬¦åˆ†éš”ï¼Œé€šè¿‡è®¾å®šçš„ *style* å€¼å¯¹å…¶æ ¼å¼åŒ– ï¼ˆé»˜è®¤ä¸º`decimal` - 10è¿›åˆ¶ï¼‰ã€‚

## åŸºæœ¬ç”¨æ³•ä¸¾ä¾‹

æœ¬ä¾‹å­å°†åœ¨æ¯ä¸ªæ ‡é¢˜çš„å‰é¢æ·»åŠ  *Section [è®¡æ•°å™¨çš„å€¼]*

``` css
body {
    counter-reset: section;  /*è®¾ç½®åä¸º section çš„è®¡æ•°å™¨ï¼Œåˆå§‹å€¼ä¸º0*/
}

h3::beforer {
    counter-increment:section; /*å°† section çš„è®¡æ•°å™¨å¢åŠ 1*/
    content:counter(section);  /*æ˜¾ç¤º section è®¡æ•°å™¨çš„å€¼*/
}
```

``` html
<h3>Introduction</h3>
<h3>Body</h3>
<h3>Conclusion</h3>
```

å‰å°æ˜¾ç¤ºç»“æœ:

``` text
1Introduction
2Body
3Conclusion
```

## åµŒå¥—ç”¨æ³•ä¸¾ä¾‹

css è®¡æ•°å™¨åœ¨æœ‰åºåˆ—è¡¨ä¸­å°¤å…¶æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä¼šè‡ªåŠ¨åœ¨å­å…ƒç´ ä¸Šåˆ›å»ºè®¡æ•°å™¨ã€‚ä½¿ç”¨ `counters()` å‡½æ•°ï¼Œåˆ†éš”ç¬¦ä¼šè‡ªåŠ¨æ’å…¥ä¸åŒå±‚çº§çš„åµŒå¥—è®¡æ•°ä¸­ã€‚

``` css
ol {
    counter-reset: section;
    list-style-type: none;
}
li::before {
    counter-increment: section;
    content:counters(section, '.') ' ';  /*ç”¨ . åšåˆ†éš”ç¬¦*/
}
```

``` html
<ol>
  <li>item</li>          <!-- 1     -->
  <li>item               <!-- 2     -->
    <ol>
      <li>item</li>      <!-- 2.1   -->
      <li>item</li>      <!-- 2.2   -->
      <li>item           <!-- 2.3   -->
        <ol>
          <li>item</li>  <!-- 2.3.1 -->
          <li>item</li>  <!-- 2.3.2 -->
        </ol>
        <ol>
          <li>item</li>  <!-- 2.3.1 -->
          <li>item</li>  <!-- 2.3.2 -->
          <li>item</li>  <!-- 2.3.3 -->
        </ol>
      </li>
      <li>item</li>      <!-- 2.4   -->
    </ol>
  </li>
  <li>item</li>          <!-- 3     -->
  <li>item</li>          <!-- 4     -->
</ol>
<ol>
  <li>item</li>          <!-- 1     -->
  <li>item</li>          <!-- 2     -->
</ol>
```

å‰å°æ˜¾ç¤ºç»“æœ:

``` text
1 item
2 item
    2.1 item
    2.2 item
    2.3 item
        2.3.1 item
        2.3.2 item
        2.3.1 item
        2.3.2 item
        2.3.3 item
    2.4 item
3 item
4 item
1 item
2 item
```

> æ³¨æ„åœ¨ **2.3 ä¸‹çš„ä¸¤ä¸ª ol åˆ—è¡¨**åŠå…¶å‰å°æ˜¾ç¤ºç»“æœï¼ˆ*2.3.1* å’Œ *2.3.2*ï¼‰
